wp.customize.controlConstructor.color_alpha=wp.customize.Control.extend({ready:function(){var e=this,b=(this.params.mode==="hue"),d=this.container.find(".color-picker-customize"),a=false,c=d.val().replace(/\s+/g,"");d.wpColorPicker({change:function(f,g){var h=(b?g.color.h():d.iris("color"));if(c!==h.replace(/\s+/g,"")){e.setting.set(h);}},clear:function(f){if(!e.setting.get()){e.setting.set(" ");}e.setting.set("");}});if(d.hasClass("wp-color-picker")){e.container.on("keydown",function(f){if(27===f.which){var g=e.container.find(".wp-picker-container");if(g.hasClass("wp-picker-active")){d.wpColorPicker("close");e.container.find(".wp-color-result").focus();f.stopPropagation();}}});}}});